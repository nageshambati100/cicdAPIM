name: Execute Groovy Script

on: [push]
env:
  SERVER_USERNAME: ${{ github.actor }}
  SERVER_PASSWORD: ${{ secrets.GITHUB_TOKEN }}

jobs:
  execute_groovy_script:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Set up Java
        uses: actions/setup-java@v2
        with:
          java-version: '11'
      - name: Setup Groovy
        # You may pin to the exact commit or the version.
        # uses: WtfJoke/setup-groovy@8a2115c92647a521595093f14bca82cdbd3fc721
        uses: WtfJoke/setup-groovy@v1.1.1
        with:
          # The version of Groovy to install. Exact version or version range of Groovy. Using semver version range syntax. Examples: 4.x, 4.0.x, 4.0.9, 4.0.0-rc-1, etc.
          groovy-version: 4.x
      - name: Execute Groovy Script
        run: java -jar groovy.jar api-manager-provision.groovy
